@model Report


<style>
    .other{
        direction: rtl !important;
        background-color : aqua;
    }
    .myself{
        direction: ltr !important;
    }
</style>



<div class="container mt-2">
    <h1>Report : <span style="color:red">@Model.Title</span></h1>
    <hr/>
    <div>
        <form asp-area="User" asp-controller="Report" asp-action="Message" method="post">
            @Html.AntiForgeryToken()
            <input type="number" name="reportId" value="@Model.Id" hidden />
            <input type="text" id="editor1" name="body" placeholder="لطفا متن را وارد کنید" style="width:100%"/><br />
            <button class="btn btn-primary">ارسال پیام</button>
        </form>
    </div>
    <hr/>

    <div class="column border border-2 p-2" style="width:100%;height:100vh;padding:30px;overflow-y:auto">
        @foreach (var reportMessage in Model.ReportMessages)
        {
            <div class="col-lg-12 p-3 @(reportMessage.UserId != int.Parse(User.FindFirst("Id").Value) ? "other" : "myself")">
                <b><span style="color:@(reportMessage.User.IsAdmin == true ? "red" : "yellow")">@(reportMessage.User.IsAdmin == true ? "Admin" : "User")</span>@reportMessage.User.UserName</b>
                <div>
                    <p>
                        @Html.Raw(reportMessage.Body)
                    </p>
                </div>
            </div>
        }
        @*<div class="col-lg-12 myself p-3">
            <b><span style="color:blue">User</span> Mohammad Fathi</b>
            <div>
                <p>
                    hello world
                </p>
            </div>
        </div>*@
    </div>

</div>



@section Scripts{
    <!-- jQuery -->
    <script src="~/plugins/jquery/jquery.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="~/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- FastClick -->
    <script src="~/plugins/fastclick/fastclick.js"></script>
    <!-- AdminLTE App -->
    <script src="~/dist/js/adminlte.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="~/dist/js/demo.js"></script>
    <!-- CK Editor -->
    <script src="~/plugins/ckeditor/ckeditor.js"></script>
    <!-- Bootstrap WYSIHTML5 -->
    <script src="~/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
    <script>
        $(function () {
            // Replace the <textarea id="editor1"> with a CKEditor
            // instance, using default configuration.
            ClassicEditor
                .create(document.querySelector('#editor1'))
                .then(function (editor) {
                    // The editor instance
                })
                .catch(function (error) {
                    console.error(error)
                })

            // bootstrap WYSIHTML5 - text editor

            $('.editor1').wysihtml5({
                toolbar: { fa: true }
            })
        })
    </script>
    <partial name="_ValidationScriptsPartial" />


}



